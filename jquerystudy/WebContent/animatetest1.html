<!DOCTYPE html>
<html>
<head>
<meta charset="EUC-KR">
<title>Insert title here</title>
<style	type="text/css">
	table,th, td{
		border:2px solid black;
		 border-collapse: collapse;
	}
	.reverse{ background-color:blue;color:white; }
	.header{ background-color:green; color:yellow; }
	.row{ background-color:violet;color:white; }
</style>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
<script type="text/javascript">
	$(function(){
		$("tr").hover(function(){
				//is() 함수: 조건값을 리턴
				//if($(this).is(".header")): 이벤트 발생된 tr class 속성이 header ?
			//if($(this).is(".header")){
			/*
				$(this) : 선택된 tr 태그
				$(this).parent(): table(tbody,thead) 태그,
								     선택된 tr 태그의 부모 태그
				$(this).parent().children() : table 태그 하위 태그 들
				$(this).parent().childern().index(this) : table 태그의 하위 태그들 중 this의 인덱스값 리턴
				$(this).parent().childern().index(this) != 0 : this가 table의 첫번째 tr 태그가 아닌경우
			*/
			//if($(this).parent().childern().index(this) != 0){
			if($(this).index != 0){
				$(this).addClass("reverse");
			}
		},function(){
			$(this).removeClass("reverse");	
		})
		
/* 			$("th").on("mouseover", function() {
				var pos = $(this).index();
				$("td").filter(":nth-child(" + (pos+1) + ")").addClass("row");
			  })
			  .on("mouseout", function() {
				  $("td").removeClass("row");
			  }); */
			
		$("th").hover(function(){
			//tdlen : 1개의 tr태그의 하위 th 태그의 갯수 == td의 갯수,4
				var tdlen = $(this).parent().children().length;
			//this의 index+1
				select = $(this).parent().children().index(this)+1;
			//$("td:nth-child(4n+1)")
				$("td:nth-child("+tdlen+"n"+select+")").addClass("row");
			
		},function(){
			var tdlen = $(this).parent().children().length;
			select = $(this).parent().children().index(this)+1;
			$("td:nth-of-type("+tdlen+"n"+select+")").removeClass("row");
		}) 
	})
</script>
</head>
<body>
<table> 
<tr class="header"><th>이름</th><th>혈액형</th><th>지역</th><th>성별</th>
<tr><td>강민</td><td>AB형</td><td>서울</td><td>남자</td></tr>
<tr><td>구자철</td><td>O형</td><td>인천</td><td>남자</td></tr>
<tr><td>이선희</td><td>B형</td><td>경기</td><td>여자</td></tr>
<tr><td>김민주</td><td>O형</td><td>대구</td><td>여자</td></tr>
<tr><td>이도화</td><td>A형</td><td>부산</td><td>남자</td></tr>
<tr><td>은단오</td><td>B형</td><td>여수</td><td>여자</td></tr>
</table>
</body>
</html>